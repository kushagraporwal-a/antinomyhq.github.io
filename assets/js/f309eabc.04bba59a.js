"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[324],{2829:(e,r,i)=>{i.r(r),i.d(r,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"error-handling","title":"Error Handling & Retry Mechanisms","description":"Configure robust error handling with automatic retries for improved resilience","source":"@site/docs/error-handling.mdx","sourceDirName":".","slug":"/error-handling","permalink":"/docs/error-handling","draft":false,"unlisted":false,"editUrl":"https://github.com/antinomyhq/antinomyhq.github.io/tree/main/docs/error-handling.mdx","tags":[],"version":"current","lastUpdatedAt":1743502566000,"sidebarPosition":15,"frontMatter":{"title":"Error Handling & Retry Mechanisms","slug":"/error-handling","sidebar_position":15,"description":"Configure robust error handling with automatic retries for improved resilience","sidebar_label":"Error Handling"},"sidebar":"docs","previous":{"title":"Security Features","permalink":"/docs/security-features"},"next":{"title":"Logging","permalink":"/docs/logging"}}');var n=i(4848),s=i(8453);const l={title:"Error Handling & Retry Mechanisms",slug:"/error-handling",sidebar_position:15,description:"Configure robust error handling with automatic retries for improved resilience",sidebar_label:"Error Handling"},a="Error Handling & Retry Mechanisms",o={},c=[{value:"Automatic Retry Mechanism",id:"automatic-retry-mechanism",level:2},{value:"How It Works",id:"how-it-works",level:3},{value:"Configuration Options",id:"configuration-options",level:2},{value:"Configuration Parameters",id:"configuration-parameters",level:3},{value:"How Backoff Works",id:"how-backoff-works",level:3},{value:"Retryable Error Types",id:"retryable-error-types",level:2},{value:"Tool Call Parsing Errors",id:"tool-call-parsing-errors",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Adjusting Retry Parameters",id:"adjusting-retry-parameters",level:3},{value:"For High-Quality Models",id:"for-high-quality-models",level:4},{value:"For More Exploratory Workflows",id:"for-more-exploratory-workflows",level:4},{value:"Example: Custom Retry Configuration",id:"example-custom-retry-configuration",level:2}];function d(e){const r={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.header,{children:(0,n.jsx)(r.h1,{id:"error-handling--retry-mechanisms",children:"Error Handling & Retry Mechanisms"})}),"\n",(0,n.jsx)(r.p,{children:"Forge includes error handling capabilities, including limited automatic retry mechanisms with exponential backoff for specific types of errors. This documentation covers how to configure and optimize these features for improved system resilience."}),"\n",(0,n.jsx)(r.h2,{id:"automatic-retry-mechanism",children:"Automatic Retry Mechanism"}),"\n",(0,n.jsx)(r.p,{children:"Forge currently implements automatic retries specifically for tool call parsing errors that occur during agent interactions. This ensures that temporary issues in parsing tool calls don't cause complete workflow failures."}),"\n",(0,n.jsx)(r.h3,{id:"how-it-works",children:"How It Works"}),"\n",(0,n.jsx)(r.p,{children:"When a tool call parsing error occurs:"}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsx)(r.li,{children:"Forge detects the parsing failure"}),"\n",(0,n.jsx)(r.li,{children:"A retry is attempted after an initial delay"}),"\n",(0,n.jsx)(r.li,{children:"Each subsequent retry uses an exponentially increasing delay with jitter"}),"\n",(0,n.jsx)(r.li,{children:"After reaching the maximum retry count, the operation fails permanently"}),"\n",(0,n.jsx)(r.li,{children:"Success at any point in the retry sequence continues normal execution"}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:"This targeted approach helps maintain conversational flow by gracefully handling errors in the agent's tool usage expressions."}),"\n",(0,n.jsx)(r.h2,{id:"configuration-options",children:"Configuration Options"}),"\n",(0,n.jsxs)(r.p,{children:["The retry mechanism can be configured in your ",(0,n.jsx)(r.code,{children:"forge.yaml"})," file:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-yaml",children:"retry:\n  max_attempts: 5 # Maximum number of attempts (including first try)\n  initial_delay_ms: 200 # Initial delay before first retry (milliseconds)\n  backoff_factor: 2 # Multiplier for delay between retries\n"})}),"\n",(0,n.jsx)(r.h3,{id:"configuration-parameters",children:"Configuration Parameters"}),"\n",(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Default"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"max_attempts"})}),(0,n.jsx)(r.td,{children:"3"}),(0,n.jsx)(r.td,{children:"Maximum number of attempts (including initial attempt)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"initial_delay_ms"})}),(0,n.jsx)(r.td,{children:"200"}),(0,n.jsx)(r.td,{children:"Initial delay before first retry (milliseconds)"})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.code,{children:"backoff_factor"})}),(0,n.jsx)(r.td,{children:"2"}),(0,n.jsx)(r.td,{children:"Exponential multiplier for delay between retries"})]})]})]}),"\n",(0,n.jsx)(r.h3,{id:"how-backoff-works",children:"How Backoff Works"}),"\n",(0,n.jsx)(r.p,{children:"With default settings, retry delays follow this pattern (with added jitter):"}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsx)(r.li,{children:"Initial attempt fails"}),"\n",(0,n.jsx)(r.li,{children:"Wait ~200ms (initial_delay_ms with jitter)"}),"\n",(0,n.jsx)(r.li,{children:"First retry fails"}),"\n",(0,n.jsx)(r.li,{children:"Wait ~400ms (initial_delay_ms \xd7 backoff_factor with jitter)"}),"\n",(0,n.jsx)(r.li,{children:"Second retry fails"}),"\n",(0,n.jsx)(r.li,{children:"Wait ~800ms (previous delay \xd7 backoff_factor with jitter)"}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:"The delay approximately doubles with each retry until reaching the maximum number of attempts."}),"\n",(0,n.jsx)(r.h2,{id:"retryable-error-types",children:"Retryable Error Types"}),"\n",(0,n.jsx)(r.p,{children:"Currently, Forge implements retries only for specific error types:"}),"\n",(0,n.jsx)(r.h3,{id:"tool-call-parsing-errors",children:"Tool Call Parsing Errors"}),"\n",(0,n.jsx)(r.p,{children:"The following parsing-related errors trigger automatic retries:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"ToolCallParse"}),": Errors that occur when parsing a tool call expression"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"ToolCallArgument"}),": Errors related to invalid arguments in a tool call"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"ToolCallMissingName"}),": Errors when a tool call is missing a required name"]}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:"These retries help handle cases where the AI model produces malformed tool call syntax but might output correct syntax on a retry."}),"\n",(0,n.jsx)(r.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,n.jsx)(r.h3,{id:"adjusting-retry-parameters",children:"Adjusting Retry Parameters"}),"\n",(0,n.jsx)(r.p,{children:"Optimize retry settings based on your specific use case:"}),"\n",(0,n.jsx)(r.h4,{id:"for-high-quality-models",children:"For High-Quality Models"}),"\n",(0,n.jsx)(r.p,{children:"Models that rarely produce syntax errors may benefit from fewer retries:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-yaml",children:"retry:\n  max_attempts: 3\n  initial_delay_ms: 100\n  backoff_factor: 2\n"})}),"\n",(0,n.jsx)(r.h4,{id:"for-more-exploratory-workflows",children:"For More Exploratory Workflows"}),"\n",(0,n.jsx)(r.p,{children:"Workflows that might push model boundaries could benefit from more patient retries:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-yaml",children:"retry:\n  max_attempts: 5\n  initial_delay_ms: 100\n  backoff_factor: 2\n"})}),"\n",(0,n.jsx)(r.h2,{id:"example-custom-retry-configuration",children:"Example: Custom Retry Configuration"}),"\n",(0,n.jsx)(r.p,{children:"Here's a comprehensive example combining retry configuration with error logging:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-yaml",children:"# forge.yaml\nretry:\n  max_attempts: 4\n  initial_delay_ms: 200\n  backoff_factor: 2\n"})})]})}function h(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,r,i)=>{i.d(r,{R:()=>l,x:()=>a});var t=i(6540);const n={},s=t.createContext(n);function l(e){const r=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:l(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);